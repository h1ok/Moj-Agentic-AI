# ุฏููู ุฑูุน ูุนุฑุถ ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ - Profile Picture Guide

## ููููุฉ ุฑูุน ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ

### ุงูุฎุทูุงุช:

1. **ุณุฌู ุงูุฏุฎูู** ุฅูู ุงููุธุงู
2. **ุงุถุบุท ุนูู ุงุณูู** ูู ุฃุณูู ุงูู Sidebar (ุงูุดุฑูุท ุงูุฌุงูุจู)
3. ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ุงุฎุชุฑ **"ุงูุฅุนุฏุงุฏุงุช"**
4. ูู ุตูุญุฉ ุงูุจุฑููุงููุ ุณุชุฌุฏ ูุณู **"ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ"**
5. **ุงุถุบุท ุนูู ุฃููููุฉ ุงููุงููุฑุง** ๐ท ุนูู ุงูุตูุฑุฉ
6. **ุงุฎุชุฑ ุตูุฑุฉ** ูู ุฌูุงุฒู (JPG, PNG)
7. **ุงุถุบุท "ุญูุธ ุงูุตูุฑุฉ"**

### ุงููุชุทูุจุงุช:
- โ ุตูุบุฉ ุงูุตูุฑุฉ: JPG, PNG, GIF, WebP
- โ ุงูุญุฏ ุงูุฃูุตู ููุญุฌู: **5 ููุฌุงุจุงูุช**
- โ ูุชู ุชุญููู ุงูุตูุฑุฉ ุฅูู Base64 ุชููุงุฆูุงู

## ุฃูู ุชุธูุฑ ุงูุตูุฑุฉุ

ุจุนุฏ ุฑูุน ุงูุตูุฑุฉุ ุณุชุธูุฑ ูู:

### 1. ุตูุญุฉ ุงูุจุฑููุงูู
- ูู ูุณู "ุงูุตูุฑุฉ ุงูุดุฎุตูุฉ"
- ูุนุงููุฉ ููุฑูุฉ ูุจู ุงูุญูุธ

### 2. ุงูู Sidebar (ุงูุดุฑูุท ุงูุฌุงูุจู)
- ุจุฌุงูุจ ุงุณูู ูู ุฃุณูู ุงูู Sidebar
- ุฏุงุฎู ุฏุงุฆุฑุฉ ุจุญุฌู 36x36 ุจูุณู
- ุชุญุฏูุซ ููุฑู ุจุนุฏ ุงูุญูุธ

### 3. ูู ุฌููุน ุฃูุญุงุก ุงููุธุงู
- ุฃู ููุงู ูุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู
- ุงูุชุญุฏูุซ ุชููุงุฆู ูู ูู ุงูุตูุญุงุช

## ููู ูุนูู ุงููุธุงูุ

### 1. ุฑูุน ุงูุตูุฑุฉ
```javascript
// ุนูุฏ ุงุฎุชูุงุฑ ุตูุฑุฉ
const file = e.target.files[0]
const reader = new FileReader()
reader.onloadend = () => {
  setPreviewImage(reader.result) // Base64
}
reader.readAsDataURL(file)
```

### 2. ุญูุธ ุงูุตูุฑุฉ
```javascript
// ุฅุฑุณุงู ุฅูู Backend
POST /api/auth/profile-picture
{
  "profile_picture": "data:image/png;base64,iVBORw0KGgo..."
}
```

### 3. ุชุญุฏูุซ State
```javascript
// ุชุญุฏูุซ user object
const updatedUser = { ...user, profile_picture: response.data.profile_picture }
setUser(updatedUser) // ุชุญุฏูุซ React state
localStorage.setItem('user', JSON.stringify(updatedUser)) // ุญูุธ ูู localStorage
```

### 4. ุนุฑุถ ุงูุตูุฑุฉ
```javascript
// ูู Sidebar
{user?.profile_picture ? (
  <img src={user.profile_picture} alt="Profile" />
) : (
  user?.name?.charAt(0) || 'U'
)}
```

## ุงูุชุฎุฒูู

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ูู ุฌุฏูู users
profile_picture VARCHAR(500)
-- ูุญูุธ Base64 string ูุงูู
```

### localStorage
```javascript
{
  "id": 1,
  "email": "user@example.com",
  "name": "ุงุณู ุงููุณุชุฎุฏู",
  "profile_picture": "data:image/png;base64,..."
}
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุตูุฑุฉ ูุง ุชุธูุฑ ุจุนุฏ ุงูุฑูุน

**ุงูุญู:**
1. ุงูุชุญ Console (F12)
2. ุงุจุญุซ ุนู ุฑุณุงุฆู:
   ```
   [DEBUG] Uploading profile picture...
   [SUCCESS] Profile picture uploaded
   [SUCCESS] User state and localStorage updated
   ```
3. ุชุญูู ูู localStorage:
   ```javascript
   console.log(JSON.parse(localStorage.getItem('user')))
   ```

### ุงููุดููุฉ: "ุญุฌู ุงูุตูุฑุฉ ูุจูุฑ ุฌุฏุงู"

**ุงูุญู:**
- ุงุณุชุฎุฏู ุตูุฑุฉ ุฃุตุบุฑ ูู 5 ููุฌุงุจุงูุช
- ุฃู ูู ุจุถุบุท ุงูุตูุฑุฉ ูุจู ุงูุฑูุน

### ุงููุดููุฉ: ุงูุตูุฑุฉ ุชุธูุฑ ูู ุงูุจุฑููุงูู ููู ููุณ ูู Sidebar

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู `user` object ูุญุฏุซ ูู App.jsx
2. ุชุญูู ูู ุฃู Sidebar ูุณุชูุจู `user` prop ุตุญูุญ
3. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ

## ุงูุฃูุงู

- โ ุงูุตูุฑ ุชูุญูุธ ูู Base64 ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุชุญูู ูู ุญุฌู ุงูููู ูุจู ุงูุฑูุน
- โ ุงูุชุญูู ูู ุตูุบุฉ ุงูููู
- โ ูุชุทูุจ Authentication (JWT Token)

## ููุงุญุธุงุช ูููุฉ

1. **ุงูุตูุฑุฉ ุชูุญูุธ ูู Base64** - ูุง ุญุงุฌุฉ ูุฎุงุฏู ูููุงุช ูููุตู
2. **ุงูุชุญุฏูุซ ููุฑู** - ุจุฏูู ุงูุญุงุฌุฉ ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
3. **ูุชุฒุงูู** - ูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ู localStorage ูุนุงู
4. **ุขูู** - ูุญูู ุจู JWT authentication

## ูุซุงู ูุงูู

```javascript
// 1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุตูุฑุฉ
<input type="file" onChange={handleImageChange} />

// 2. ุชุญููู ุฅูู Base64
const reader = new FileReader()
reader.readAsDataURL(file)

// 3. ุฑูุน ุฅูู Backend
await axios.post('/api/auth/profile-picture', {
  profile_picture: base64Image
})

// 4. ุชุญุฏูุซ State
setUser({ ...user, profile_picture: newImage })

// 5. ุงูุนุฑุถ ูู Sidebar
<img src={user.profile_picture} />
```

## ุงูุฎูุงุตุฉ

ุงููุธุงู ูุนูู ุจุดูู ูุงูู:
- โ ุฑูุน ุงูุตูุฑุฉ
- โ ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุญุฏูุซ State ู localStorage
- โ ุนุฑุถ ูู ุฌููุน ุฃูุญุงุก ุงููุธุงู
- โ ุชุญุฏูุซ ููุฑู ุจุฏูู ุฅุนุงุฏุฉ ุชุญููู
